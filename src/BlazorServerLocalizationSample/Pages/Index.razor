@page "/"
@using AKSoftware.Localization.MultiLanguages
@using AKSoftware.Localization.MultiLanguages.Blazor

@inject ILanguageContainerService Language

<PageTitle>@Language["Title"]</PageTitle>

<h1>@Language["HomePage:HelloWorld"]</h1>

@Language["HomePage:Welcome", new { username = "John Doe" }]


<div class="d-flex align-items-center">
	<img src="https://countryflagsapi.com/png/us" @onclick='() => SetLanguage("en-US")' style="width:75px;cursor:pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/de" @onclick='() => SetLanguage("de-De")' style="width:75px;cursor:pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/es" @onclick='() => SetLanguage("ca-ES")' style="width:75px;cursor:pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/fr" @onclick='() => SetLanguage("fr-FR")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/it" @onclick='() => SetLanguage("it-IT")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/jp" @onclick='() => SetLanguage("ja-JP")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/in" @onclick='() => SetLanguage("ml-IN")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/sa" @onclick='() => SetLanguage("ar-SA")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/fi" @onclick='() => SetLanguage("fi-FI")' style="width:75px;cursor: pointer;margin:10px" />
	<img src="https://countryflagsapi.com/png/bg" @onclick='() => SetLanguage("bg-BG")' style="width:75px;cursor: pointer;margin:10px" />
</div>


<SurveyPrompt Title="@Language["HomePage:Question"]" />


@code
{
		private async void SetLanguage(string language)
		{
			await InvokeAsync(() =>
			{
				Language.SetLanguage(System.Globalization.CultureInfo.GetCultureInfo(language));
			});

		}

	protected override void OnInitialized()
	{
			Language.InitLocalizedComponent(this);
	
		base.OnInitialized();
	}
}